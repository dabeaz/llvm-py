
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>TypeHandle (llvm.core)</title>
    
    <meta name="author" content="">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="/assets/themes/twitter/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="/assets/themes/twitter/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">
    <link href="/stylesheets/pygment_trac.css" rel="stylesheet" type="text/css">
    <!-- Le fav and touch icons -->
  <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->
  </head>

  <body>

    <div class="navbar">
      <div class="navbar-inner">
        <div class="container">
          <a class="brand" href="/">llvm-py Documentation</a>
          <ul class="nav">
            
            
            


  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/pages.html">Pages</a></li>
      	
      
    
  



          </ul>
        </div>
      </div>
    </div>

    <div class="container">

      <div class="content">
        
<div class="page-header">
  <h1>TypeHandle (llvm.core) </h1>
</div>

<div class="row">
  <div class="span12">
    <p>TypeHandle objects are used to create recursive types, like this linked list node structure in C:</p>
<div class='highlight'><pre><code class='c'><span class='k'>struct</span> <span class='n'>node</span>
<span class='p'>{</span>
    <span class='kt'>int</span> <span class='n'>data</span><span class='p'>;</span>
    <span class='k'>struct</span> <span class='n'>node</span> <span class='o'>*</span><span class='n'>next</span><span class='p'>;</span>
<span class='p'>};</span>
</code></pre>
</div>
<p>This can be realized in llvm-py like this:</p>
<div class='highlight'><pre><code class='c'><span class='n'>include</span><span class='p'>..</span><span class='o'>/</span><span class='p'>..</span><span class='o'>/</span><span class='n'>test</span><span class='o'>/</span><span class='n'>typehandle</span><span class='p'>.</span><span class='n'>py</span><span class='p'>[]</span>
</code></pre>
</div>
<p>which gives the output:</p>
<div class='highlight'><pre><code class='llvm'><span class='c'>; ModuleID = &#39;mod1&#39;</span>

<span class='nv'>%struct.node</span> <span class='p'>=</span> <span class='k'>type</span> <span class='p'>{</span> <span class='k'>i32</span><span class='p'>,</span> <span class='nv'>%struct.node</span><span class='p'>*</span> <span class='p'>}</span>
</code></pre>
</div>
<p>For more details on what is going on here, please refer the LLVM Programmer&#8217;s Manual section <a href='http://llvm.org/docs/ProgrammersManual.html#TypeResolve'>LLVM Type Resolution</a>. The TypeHandle class of llvm-py corresponds to <a href='http://www.llvm.org/doxygen/classllvm_1_1PATypeHolder.html'>llvmPATypeHolder</a> in C++. The above example is available as <a href='http://code.google.com/p/llvm-py/source/browse/trunk/test/typehandle.py'>test/typehandle.py</a> in the source distribution.</p>
<hr />
<h1 id='llvmcoretypehandle'>llvm.core.TypeHandle</h1>

<h2 id='static_constructors'>Static Constructors</h2>

<h3 id='id22869'><code>new(abstract_ty)</code></h3>

<p>create a new <code>TypeHandle</code> instance, which holds a reference to the given abstract type <code>abstract_ty</code>. Typically, the abstract type used is <code>Type.opaque()</code>.</p>

<h2 id='properties'>Properties</h2>

<h3 id='id22870'><code>type</code></h3>

<p>returns the contained type. Typically the <code>refine</code> method is called on the returned type.</p>
  </div>
</div>


      </div>

      <footer>
        <p>&copy;  2012
          with help from <a href="http://jekyllbootstrap.com" target="_blank" title="The Definitive Jekyll Blogging Framework">Jekyll Bootstrap</a>
          and <a href="http://twitter.github.com/bootstrap/" target="_blank">Twitter Bootstrap</a>
        </p>
      </footer>

    </div> <!-- /container -->

    
  </body>
</html>

